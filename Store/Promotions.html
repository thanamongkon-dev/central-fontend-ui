<script src="https://cdn.tailwindcss.com"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  /* Hide scrollbar in all modern browsers */
  #slider::-webkit-scrollbar {
    display: none;
  }

  #slider {
    -ms-overflow-style: none;
    /* IE/Edge */
    scrollbar-width: none;
    /* Firefox */
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>

<div class="container relative flex flex-col pl-4 text-xs md:p-0 sm:text-base">
  <h2 class="mt-6 mb-4 text-xl font-bold sm:mt-8 sm:mb-6 sm:text-3xl">
    Promotions
  </h2>
  <div
    id="PROMOTIONS-container"
    class="grid w-full pr-4 grid-flow-col md:auto-cols-[calc(45%-0.5rem)] auto-cols-[calc(90%-0.5rem)] sm:gap-6 gap-3 overflow-x-scroll overflow-y-hidden scroll-smooth snap-x snap-mandatory hide-scrollbar"
  >
    <div
      data-start="2025-03-05"
      data-end="2026-05-01"
      class="relative w-full text-sm text-start snap-start rounded border border-[#b1b1b1]"
    >
      <a
        href="https://www.central.co.th/e-shopping/central-summer-fest-17-feb-2025"
        target="_blank"
        class="absolute inset-0 z-10"
      ></a>
      <img
        class="w-full h-auto rounded"
        src="https://uat-assets.central.co.th/file-assets/assets/CMS/evm/assets/images/store/summer-fest-demo.png"
        alt="Central Summer Fest"
      />
      <div class="px-2 py-3 mx-0 space-y-2 sm:p-3">
        <h2 class="md:text-[28px] text-[20px] font-bold">
          Central Summer Fest
        </h2>
        <ul class="sm:pl-6 sm:list-disc">
          <li>5 March 2025 - 1 May 2025</li>
          <li>
            Summer collecctions
            <ul class="pl-6 font-light list-disc">
              <li>
                12.5% On-Top Discount with The 1 points (min. 800
                points/receipt)
              </li>
              <li>Up to 30% The 1 & Credit Card Rewards</li>
              <li>Up to 15% Digital Coupons, Cash Coupons or Cash Back</li>
              <li>
                Get a 150 Baht Discount Coupon with 1,000 The 1 points
                redemption on Central
              </li>
              <li>
                App (limit: 2 redemptions/person, total 5,000 redemptions Period
                5 Mar 25 -19 Mar 25)
              </li>
              <li>
                Credit card rewards every Central store, Central App, Chat &
                Shop, Call & Shop 1425
              </li>
            </ul>
          </li>
          <li class="font-light">
            Participating items only. Valid for credit cards issued in Thailand.
            Terms & conditions apply and are subject to change without prior
            notice.
          </li>
        </ul>
      </div>
    </div>

    <div
      data-start="2025-04-25"
      data-end="2026-05-22"
      class="relative w-full text-sm text-start snap-start rounded border border-[#b1b1b1]"
    >
      <a
        href="https://www.central.co.th/e-shopping/central-happy-best-deals-21-apr-2025"
        target="_blank"
        class="absolute inset-0 z-10"
      ></a>
      <img
        class="w-full h-auto rounded"
        src="https://uat-assets.central.co.th/file-assets/assets/CMS/evm/assets/images/store/gift-card-demo.png"
        alt="Central gift card"
      />
      <div class="px-2 py-3 mx-0 space-y-2 sm:p-3">
        <h2 class="md:text-[28px] text-[20px] font-bold">
          Central Gift Card Big Bonus
        </h2>
        <ul class="sm:pl-6 sm:list-disc">
          <li>
            25 April 2025 – 22 May 2025
            <ul class="pl-6 font-light list-disc">
              <li>Up to 30% off new collections</li>
              <li>Up to 28% The 1 & Credit Card Rewards</li>
              <li>
                Up to 15% Digital Coupons or Cash Coupons & Cash Back from
                Central The 1 Credit Card, Central Chat & Shop Coupons and
                Central App Coupons
              </li>
            </ul>
          </li>
          <li class="font-light">
            every Central store, Central App, Chat & Shop, Call & Shop 1425
          </li>
          <li class="font-light">
            Participating items only. Valid for credit cards issued in Thailand.
            Terms & conditions apply and are subject to change without prior
            notice.
          </li>
        </ul>
      </div>
    </div>

    <div
      data-start="2025-03-05"
      data-end="2026-05-22"
      class="relative w-full text-sm text-start snap-start rounded border border-[#b1b1b1]"
    >
      <a
        href="https://www.central.co.th/e-shopping/central-happy-best-deals-21-apr-2025"
        target="_blank"
        class="absolute inset-0 z-10"
      ></a>
      <img
        class="w-full h-auto rounded"
        src="https://uat-assets.central.co.th/file-assets/assets/CMS/evm/assets/images/store/gift-card-demo.png"
        alt="Central gift card"
      />
      <div class="px-2 py-3 mx-0 space-y-2 sm:p-3">
        <h2 class="md:text-[28px] text-[20px] font-bold">
          Central Gift Card Big Bonus
        </h2>
        <ul class="sm:pl-6 sm:list-disc">
          <li>
            25 April 2025 – 22 May 2025
            <ul class="pl-6 font-light list-disc">
              <li>Up to 30% off new collections</li>
              <li>Up to 28% The 1 & Credit Card Rewards</li>
              <li>
                Up to 15% Digital Coupons or Cash Coupons & Cash Back from
                Central The 1 Credit Card, Central Chat & Shop Coupons and
                Central App Coupons
              </li>
            </ul>
          </li>
          <li class="font-light">
            every Central store, Central App, Chat & Shop, Call & Shop 1425
          </li>
          <li class="font-light">
            Participating items only. Valid for credit cards issued in Thailand.
            Terms & conditions apply and are subject to change without prior
            notice.
          </li>
        </ul>
      </div>
    </div>

    <div
      data-start="2026-03-05"
      data-end="2026-05-01"
      ispreview="true"
      class="relative w-full text-sm text-start snap-start rounded border border-[#b1b1b1]"
    >
      <a
        href="https://www.central.co.th/e-shopping/central-summer-fest-17-feb-2025"
        target="_blank"
        class="absolute inset-0 z-10"
      ></a>
      <img
        class="w-full h-auto rounded"
        src="https://uat-assets.central.co.th/file-assets/assets/CMS/evm/assets/images/store/summer-fest-demo.png"
        alt="Central Summer Fest"
      />
      <div class="px-2 py-3 mx-0 space-y-2 sm:p-3">
        <h2 class="md:text-[28px] text-[20px] font-bold">
          Central Summer Fest
        </h2>
        <ul class="sm:pl-6 sm:list-disc">
          <li>5 March 2025 - 1 May 2025</li>
          <li>
            Summer collecctions
            <ul class="pl-6 font-light list-disc">
              <li>
                12.5% On-Top Discount with The 1 points (min. 800
                points/receipt)
              </li>
              <li>Up to 30% The 1 & Credit Card Rewards</li>
              <li>Up to 15% Digital Coupons, Cash Coupons or Cash Back</li>
              <li>
                Get a 150 Baht Discount Coupon with 1,000 The 1 points
                redemption on Central
              </li>
              <li>
                App (limit: 2 redemptions/person, total 5,000 redemptions Period
                5 Mar 25 -19 Mar 25)
              </li>
              <li>
                Credit card rewards every Central store, Central App, Chat &
                Shop, Call & Shop 1425
              </li>
            </ul>
          </li>
          <li class="font-light">
            Participating items only. Valid for credit cards issued in Thailand.
            Terms & conditions apply and are subject to change without prior
            notice.
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- left button -->
  <button
    onclick="carouselPrev('PROMOTIONS-container')"
    class="absolute left-0 z-10 hidden p-2 transition-colors -translate-y-1/2 bg-white bg-opacity-75 md:block prevBtn top-1/2 hover:bg-gray-300"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="currentColor"
      class="w-6 h-6"
    >
      <path
        fill-rule="evenodd"
        d="M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z"
        clip-rule="evenodd"
      />
    </svg>
  </button>

  <!-- right button -->
  <button
    onclick="carouselNext('PROMOTIONS-container')"
    class="absolute right-0 z-10 hidden p-2 transition-colors -translate-y-1/2 bg-white bg-opacity-75 md:block nextBtn top-1/2 hover:bg-gray-300"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="currentColor"
      class="w-6 h-6"
    >
      <path
        fill-rule="evenodd"
        d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z"
        clip-rule="evenodd"
      />
    </svg>
  </button>
</div>
<script>
  window.addEventListener("load", () => {
    const today = new Date(); /*get current date*/
    console.log("📅 Today is:", today.toISOString().split("T")[0]);

    document
      .querySelectorAll("#PROMOTIONS-container > div[data-start][data-end]")
      .forEach((promo, i) => {
      const startAttr = promo.getAttribute("data-start");
      const endAttr = promo.getAttribute("data-end");
      const isPreview = promo.getAttribute("ispreview") === "true";
      const startDate = new Date(startAttr);
      const endDate = new Date(endAttr);

      if (!isPreview && (today < startDate || today > endDate)) {
        promo.classList.add("hidden");
      } else {
        promo.classList.remove("hidden");
      }
      });
  })
</script>
<script>
  function carouselNext(eleId) {
    const carousel = document.getElementById(eleId);
    if (!carousel) return;

    const item = carousel.querySelector("div");
    if (!item) {
      console.warn("❌ ไม่พบ item ใน carousel");
      return;
    }

    const itemWidth = item.offsetWidth;
    const gap = parseInt(window.getComputedStyle(carousel).gap);
    const scrollAmount = itemWidth + gap;

    console.log("➡️ scroll next:", scrollAmount);
    console.log("ก่อน scrollLeft:", carousel.scrollLeft);

    carousel.scrollBy({ left: scrollAmount, behavior: "smooth" });

    setTimeout(() => {
      console.log("หลัง scrollLeft:", carousel.scrollLeft);
    }, 300);
  }

  function carouselPrev(eleId) {
    const carousel = document.getElementById(eleId);
    if (!carousel) return;

    const item = carousel.querySelector("div");
    if (!item) {
      console.warn("❌ ไม่พบ item ใน carousel");
      return;
    }

    const itemWidth = item.offsetWidth;
    const gap = parseInt(window.getComputedStyle(carousel).gap) || 8;
    const scrollAmount = (itemWidth + gap);

    console.log("⬅️ scroll prev:", scrollAmount);
    console.log("ก่อน scrollLeft:", carousel.scrollLeft);

    carousel.scrollBy({ left: -scrollAmount, behavior: "smooth" });

    setTimeout(() => {
      console.log("หลัง scrollLeft:", carousel.scrollLeft);
    }, 300);
  }
</script>
