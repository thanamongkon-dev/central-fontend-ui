<script src="https://cdn.tailwindcss.com"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="https://uat-gcp-assets.central.co.th/file-assets/assets/CMS/chanel/html/font.css" rel="stylesheet" />
<style>
  /* Hide scrollbar in all modern browsers */
  #slider::-webkit-scrollbar {
    display: none;
  }

  #slider {
    -ms-overflow-style: none;
    /* IE/Edge */
    scrollbar-width: none;
    /* Firefox */
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>

<div
  class="container text-sm md:text-base font-cpn mx-auto max-w-[1440px] flex flex-col items-center justify-center text-left my-6 text-[#1d1d1f] md:gap-6 gap-4 px-4 md:px-0">
  <!-- Tab Buttons -->
  <div
    class="flex w-full overflow-x-auto text-sm font-bold border-b border-gray-200 md:text-base md:overflow-visible font-cpn text-nowrap">
    <button
      class="w-full px-4 py-2 text-gray-500 border-b-2 border-transparent tab-button hover:text-black hover:border-black"
      id="events" onclick="tabChange('events')">
      TODAY'S EVENTS
    </button>
    <button
      class="tab-button w-full px-4 py-2 border-b-2 border-[#1D1D1F] text-[#1D1D1F]"
      id="LOCATION" onclick="tabChange('LOCATION')">
      LOCATION
    </button>
    <button
      class="w-full px-4 py-2 text-gray-500 border-b-2 border-transparent tab-button hover:text-black hover:border-black"
      id="DIRECTORIES" onclick="tabChange('DIRECTORIES')">
      DIRECTORIES
    </button>
    <button
      class="w-full px-4 py-2 text-gray-500 border-b-2 border-transparent tab-button hover:text-black hover:border-black"
      id="SERVICES" onclick="tabChange('SERVICES')">
      SERVICES
    </button>
  </div>

  <div
    class="w-full mb-4 p-3 md:p-6 border-t-[6px] border-l-[#8b8b8b] border-r-[#8b8b8b] border-b-[#8b8b8b] border-b border-l border-r rounded border-t-red-500 font-cpn text-[#1D1D1F]">
    <!-- Store  -->


  
    <!-- LOCATION -->
    <div id="LOCATION-container" class="hidden w-full content">
      <div class="w-full h-auto" data-longitude="100.561667" data-latitude="13.816796">
        <iframe class="md:h-[665px] h-[500px] w-full"
          src="https://maps.google.com/maps?q=13.816796,100.561667&amp;hl=th&amp;t=&amp;z=15&amp;ie=UTF8&amp;iwloc=&amp;output=embed"
          frameborder="0"></iframe>
      </div>
    </div>

    <!-- DIRECTORIES -->
    <div id="DIRECTORIES-container" class="hidden w-full content">
      <!-- Slider Container -->
      <div class="w-full overflow-hidden">
        <!-- Slider -->
        <div id="slider" class="flex h-[600px] overflow-x-scroll scroll-smooth snap-x snap-mandatory">
          <img src="https://www.central.co.th/content/dam/cds/stores/directory/chidlom/floor1.png" alt="Floor 1"
            class="flex-shrink-0 object-contain w-full h-auto snap-center" />
          <img src="https://www.central.co.th/content/dam/cds/stores/directory/chidlom/floor2.png" alt="Floor 2"
            class="flex-shrink-0 object-contain w-full h-auto snap-center" />
          <img src="https://www.central.co.th/content/dam/cds/stores/directory/chidlom/floor3.png" alt="Floor 3"
            class="flex-shrink-0 object-contain w-full h-auto snap-center" />
          <img src="https://www.central.co.th/content/dam/cds/stores/directory/chidlom/floor4.png" alt="Floor 4"
            class="flex-shrink-0 object-contain w-full h-auto snap-center" />
          <img src="https://www.central.co.th/content/dam/cds/stores/directory/chidlom/floor5.png" alt="Floor 5"
            class="flex-shrink-0 object-contain w-full h-auto snap-center" />
          <img src="https://www.central.co.th/content/dam/cds/stores/directory/chidlom/floor6.png" alt="Floor 6"
            class="flex-shrink-0 object-contain w-full h-auto snap-center" />
          <img src="https://www.central.co.th/content/dam/cds/stores/directory/chidlom/floor7.png" alt="Floor 7"
            class="flex-shrink-0 object-contain w-full h-auto snap-center" />
        </div>

        <!-- Dot -->
        <div class="flex justify-center mt-4 space-x-2 text-white" id="dots">
          <button class="w-6 h-6 bg-red-800 rounded-full dot">1</button>
          <button class="w-6 h-6 bg-red-800 rounded-full dot">2</button>
          <button class="w-6 h-6 bg-red-800 rounded-full dot">3</button>
          <button class="w-6 h-6 bg-red-800 rounded-full dot">4</button>
          <button class="w-6 h-6 bg-red-800 rounded-full dot">5</button>
          <button class="w-6 h-6 bg-red-800 rounded-full dot">6</button>
          <button class="w-6 h-6 bg-red-800 rounded-full dot">7</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function tabChange(tabName) {
    let activeTab = document.getElementById(tabName);
    let tabBtn = document.querySelectorAll(".tab-button");
    let container = document.getElementById(tabName + "-container");
    let content = document.querySelectorAll(".content");
    const leftBtn = document.querySelector('.prevBtn');
    const rightBtn = document.querySelector('.nextBtn');

    tabBtn.forEach((el) =>
      el.classList.add(
        "text-gray-500",
        "border-transparent",
        "hover:text-black",
        "hover:border-black"
      )
    );
    content.forEach((el) => el.classList.add("hidden"));

    activeTab.classList.remove(
      "text-gray-500",
      "border-transparent",
      "hover:text-black",
      "hover:border-black"
    );
    activeTab.classList.add("border-[#1D1D1F]", "text-[#1D1D1F]");

    container.classList.remove("hidden");
    container.classList.add("flex");
  }
  window.addEventListener("load", () => {
    tabChange("LOCATION");
  })
</script>

<script>
  function initSlider() {
    const slider = document.getElementById("slider");
    const dots = document.querySelectorAll(".dot");
    const slides = slider.querySelectorAll("img");
    let currentIndex = 0;
    let intervalId;
    const isDesktop = window.innerWidth >= 1024;

    function scrollToIndex(index) {
      const scrollAmount = slides[index].offsetLeft;
      slider.scrollTo({ left: scrollAmount, behavior: "smooth" });
      currentIndex = index;
    }

    function autoScroll() {
      currentIndex = (currentIndex + 1) % slides.length;
      scrollToIndex(currentIndex);
    }

    function startAutoSlide() {
      intervalId = setInterval(autoScroll, 5000);
    }

    function stopAutoSlide() {
      clearInterval(intervalId);
    }

    dots.forEach((dot, index) => {
      dot.addEventListener("click", () => {
        scrollToIndex(index);
        if (isDesktop) {
          stopAutoSlide();
          startAutoSlide();
        }
      });
    });

    slider.addEventListener("mouseenter", () => {
      if (isDesktop) stopAutoSlide();
    });
    slider.addEventListener("mouseleave", () => {
      if (isDesktop) startAutoSlide();
    });

    scrollToIndex(0);
    if (isDesktop) startAutoSlide();
  }

  initSlider();
</script>